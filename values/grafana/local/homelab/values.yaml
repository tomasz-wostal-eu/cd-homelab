# Grafana homelab - no PVC, default auth
persistence:
  enabled: false

adminUser: admin
adminPassword: admin

# Enable sidecar to auto-load dashboards from ConfigMaps
sidecar:
  dashboards:
    enabled: true
    label: grafana_dashboard
    labelValue: "1"
    folder: /tmp/dashboards
    provider:
      foldersFromFilesStructure: false

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: InfluxDB
        type: influxdb
        url: http://influxdb-influxdb2.monitoring.svc.cluster.local:80
        access: proxy
        isDefault: true
        jsonData:
          version: Flux
          organization: homelab
          defaultBucket: mqtt
        secureJsonData:
          token: homelab-super-secret-token

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 256Mi

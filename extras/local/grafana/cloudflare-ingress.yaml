---
# DNSEndpoint for External DNS to create Cloudflare CNAME
# Creates: grafana.devopslaboratory.org -> <tunnel-id>.cfargotunnel.com
#
# Tunnel: macbook-air (9f0067e6-dfcb-4bc1-a12f-751763b7a14a)
#
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: grafana-cloudflare
  namespace: monitoring
  annotations:
    external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
spec:
  endpoints:
    - dnsName: grafana.devopslaboratory.org
      recordTTL: 300
      recordType: CNAME
      targets:
        - 9f0067e6-dfcb-4bc1-a12f-751763b7a14a.cfargotunnel.com
